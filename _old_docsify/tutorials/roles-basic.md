# Roles - basic

## What you will build

You will build a process-driven application that contains few basic roles. You will find out how simple it is to create roles, assign them to tasks in the Application Builder, assign them to users in the Application Engine and work with them once the process instance is created.

## What you will need

* 10 - 15 minutes
* Netgrif Application Engine CE already installed or created free account at [demo.netgrif.com](https://demo.netgrif.com)
* Access to the internet for [builder.netgrif.com](https://builder.netgrif.com) site

## Tutorial

### Creation of roles

In the following process, you will a create process with four states (places) and five tasks (transitions).

_Process that will be used all in examples below:_

<a href="_media/roles-basic/example.xml" download="example" style="color:blue;">Download the process</a>

* Each task will be assigned to a different role. To create roles, you need to select the `Role edit` view in the main toolbar.
* In order to create a new role inside the `Role edit` view, you need to click the `Add role` button. After the role was created open the role and specify its `ID` (by default it is generated, but you can change it) and `Title`.
* Create at least three roles: `Admin`, `Role of the first user` and `Role of the second user`.</li>

_Detail where is Role edit view located:_

<p align="center">
    <img src="_media/roles-basic/1.png">
</p>

_Detail how to create one role in Role edit view:_

<p align="center">
    <img src="_media/roles-basic/2.png">
</p>

_Example of roles creation:_

<p align="center">
    <video controls style="height: 400px;">
      <source src="_media/roles-basic/1.mp4" type="video/mp4">
    </video>
</p>

### Assign roles to tasks

In order to assign roles to tasks you have to:
1. Use the right mouse click while the Select tool is selected in Edit view and choose `Manage permissions`.
2. Dialogue called `Transition Permissions` will appear with multiple options. In this tutorial, we will go just with Perform column.
3. For transitions  `Choose first`, `Choose second` and `Task of the admin` click once in row admin, column Perform.
4. For transition  `First` click once in row `role_1`, column `Perform`.</li>
5. For transition  `Second` click once in row `role_1`, column `Perform`.</li>


_Detail of how to get to Manage Permissions:_

<p align="center">
    <img src="_media/roles-basic/3.png">
</p>

_Detail of how to assign a role to Perform:_

<p align="center">
    <img src="_media/roles-basic/4.png">
</p>

_Example of roles assignment to tasks:_

<p align="center">
    <video controls style="height: 400px;">
      <source src="_media/roles-basic/2.mp4" type="video/mp4">
    </video>
</p>

### Upload process into the Application Engine

_Process used all in examples above:_

<a href="_media/roles-basic/roles.xml" download="roles" style="color:blue;">Download the process</a>

Before uploading the process with all the roles into the Application Engine, you have to download/save it.

_Detail of how to export created process:_

<p align="center">
    <img src="_media/roles-basic/5.png">
</p>

In order to upload the process into <a href="https://demo.netgrif.com/" target="_blank">Demo of the Netgrif Application Engine</a> follow steps:
1. Log In in to the <a href="https://demo.netgrif.com/" target="_blank">the Demo of the NAE</a>. If you do not have account, Sing Up first.
2. Once you are logged in, go to section `Processes` in the left navigation menu.
3. In the section `Processes`, click the `upload` button on the bottom right side of the screen.
4. In the right overlay section, press button `Choose a process file`.
5. Upload exported file, that was generated by Netgrif Application Builder and then press `Done`.
6. Go to the section `All cases` in the left navigation menu.
7. In the section `All cases`, click `+` (plus) button on the top right side of the screen.
8. If only one process was uploaded, there is no need to specify the process you want to choose. If there are multiple processes choose the one called `Roles tutorial`.
9. Once you choose your process, press `Create` button and your process instance/case is created.

_Example of process uploaded to Application Engine:_
<p align="center">
    <video controls style="height: 400px;">
      <source src="_media/roles-basic/3.mp4" type="video/mp4">
    </video>
</p>

### Play with the roles

In order to play with the roles of your process in <a href="https://demo.netgrif.com/" target="_blank">the Demo of the Netgrif Application Engine</a> follow these steps:
1. Once you are logged in, go to the section `Role management` in the left navigation menu.
2. In the `Role management` section, select a user (a user that is representing you in this case) from the left side of the screen to who you want to change roles.
3. In the section `Role management`, choose a process (your uploaded process in this case) from the right side of the screen. Now choose roles of the process that you want to assign to the selected user (e.g. Admin).
4. If you have assigned roles to the user, go to the section `All cases`. Open the process instance that you have created in previous steps and check if the user can see any task. If yes, assign and finish the tasks.
5. Repeat the process above but try to use different roles or multiple roles at the same time. Check the video below - get to know how to get through the whole process you created in the NAB.

_Example of changing roles of one user in one process (changes are visible immediately):_
<p align="center">
    <video controls style="height: 400px;">
      <source src="_media/roles-basic/4.mp4" type="video/mp4">
    </video>
</p>

### Process application created in the tutorial (an XML file)

```xml
<?xml version="1.0" encoding="UTF-8"?>
<document xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://netgrif.github.io/petriflow/petriflow.schema.xsd">
	<id>roles</id>
	<initials>RLS</initials>
	<title>Roles tutorial</title>
	<defaultRole>true</defaultRole>
	<transitionRole>false</transitionRole>
	<!-- TRANSACTIONS -->
	<!-- ROLES -->
	<!-- PROCESS ROLE REFS -->
	<!-- PROCESS USER REFS -->
	<!-- DATA -->
	<!-- I18NS -->
	<!-- TRANSITIONS -->
	<transition>
		<id>t1</id>
		<x>180</x>
		<y>100</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Choose first</label>
	</transition>
	<transition>
		<id>t2</id>
		<x>340</x>
		<y>100</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>First</label>
	</transition>
	<transition>
		<id>t4</id>
		<x>500</x>
		<y>140</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Task of the  admin</label>
	</transition>
	<transition>
		<id>t5</id>
		<x>180</x>
		<y>180</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Choose second</label>
	</transition>
	<transition>
		<id>t6</id>
		<x>340</x>
		<y>180</y>
		<layout>
			<offset>0</offset>
		</layout>
		<label>Second</label>
	</transition>
	<!-- PLACES -->
	<place>
		<id>p1</id>
		<x>100</x>
		<y>140</y>
		<label></label>
		<tokens>1</tokens>
		<static>false</static>
	</place>
	<place>
		<id>p2</id>
		<x>260</x>
		<y>100</y>
		<label></label>
		<tokens>0</tokens>
		<static>false</static>
	</place>
	<place>
		<id>p5</id>
		<x>420</x>
		<y>140</y>
		<label></label>
		<tokens>0</tokens>
		<static>false</static>
	</place>
	<place>
		<id>p7</id>
		<x>260</x>
		<y>180</y>
		<label></label>
		<tokens>0</tokens>
		<static>false</static>
	</place>
	<!-- ARCS -->
	<arc>
		<id>a1</id>
		<type>regular</type>
		<sourceId>p1</sourceId>
		<destinationId>t1</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>a2</id>
		<type>regular</type>
		<sourceId>t1</sourceId>
		<destinationId>p2</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>a3</id>
		<type>regular</type>
		<sourceId>p2</sourceId>
		<destinationId>t2</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>a6</id>
		<type>regular</type>
		<sourceId>t2</sourceId>
		<destinationId>p5</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>a7</id>
		<type>regular</type>
		<sourceId>p5</sourceId>
		<destinationId>t4</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>a9</id>
		<type>regular</type>
		<sourceId>p1</sourceId>
		<destinationId>t5</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>a10</id>
		<type>regular</type>
		<sourceId>t5</sourceId>
		<destinationId>p7</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>a11</id>
		<type>regular</type>
		<sourceId>p7</sourceId>
		<destinationId>t6</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
	<arc>
		<id>a13</id>
		<type>regular</type>
		<sourceId>t6</sourceId>
		<destinationId>p5</destinationId>
		<multiplicity>1</multiplicity>
	</arc>
</document>
```